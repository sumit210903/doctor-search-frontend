<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Account</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    :root {
      --primary-color: #006c59;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f1f1f1;
      margin: 0;
      padding: 0;
    }

    .navbar {
      background-color: #00856F;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .navbar a {
      text-decoration: none;
    }

    .navbar .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 1rem;
      margin: 0;
      flex-wrap: wrap;
    }

    .nav-links li {
      position: relative;
    }

    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      display: inline-block;
      transition: transform 0.3s ease;
    }

    .nav-links a:hover {
      transform: translateX(5px);
    }

    .dropdown-menu {
      list-style: none;
      padding: 0;
      margin: 0;
      background-color: #ffffff;
      position: absolute;
      display: block;
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: max-height 0.4s ease, opacity 0.3s ease;
      z-index: 1000;
    }

    .dropdown:hover .dropdown-menu {
      max-height: 300px;
      opacity: 1;
    }

    .dropdown-menu li a {
      color: black;
      display: block;
      padding: 0.5rem 1rem;
    }

    .dropdown-menu li a:hover {
      background: #eee;
    }


    /* PROFILE CONTAINER */
    .container {
      background-color: white;
      max-width: 500px;
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      animation: fadeIn 1s ease-in-out;
    }

    h2 {
      text-align: center;
      color: var(--primary-color);
      animation: fadeInUp 1s ease-in-out;
    }

    .profile-info {
      margin-top: 1rem;
    }

    .profile-info p {
      font-size: 1.1rem;
      margin: 0.5rem 0;
    }

    .btn {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 0.75rem;
      margin-top: 1.5rem;
      border-radius: 5px;
      cursor: pointer;
      width: 100%;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }

    .btn:hover {
      background-color: #004c3f;
    }

    /* ANIMATIONS */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.98);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideDown {
      from {
        transform: translateY(-100%);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    /* RESPONSIVE */
    @media screen and (max-width: 600px) {
      .navbar {
        flex-direction: column;
        text-align: center;
      }

      .navbar ul {
        flex-direction: column;
        gap: 0.5rem;
      }

      .container {
        margin: 1rem;
        padding: 1rem;
      }
    }
  </style>
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar">
    <a href="index.html">
      <div class="logo"><i class="fas fa-heartbeat"></i> CareRadar</div>
    </a>
    <ul class="nav-links">

      <li><a href="home.html"><i class="fas fa-home"></i> Home</a></li>

      <li class="dropdown">
        <a href="#"><i class="fas fa-user-md"></i> Doctors ▾</a>
        <ul class="dropdown-menu">
          <li><a href="search-doctors.html"><i class="fas fa-search"></i> Search Doctors</a></li>
          <li><a href="book-appointments.html"><i class="fas fa-calendar-plus"></i> Book Appointment</a></li>
          <li><a href="top-rated.html"><i class="fas fa-star"></i> Top Rated</a></li>
          <li><a href="specialites.html"><i class="fas fa-stethoscope"></i> Specialties</a></li>
        </ul>
      </li>

      <li class="dropdown">
        <a href="#"><i class="fas fa-briefcase-medical"></i> Services ▾</a>
        <ul class="dropdown-menu">
          <li><a href="online-consultation.html"><i class="fas fa-video"></i> Online Consultation</a></li>
          <li><a href="in-person-visit.html"><i class="fas fa-hospital-user"></i> In-person Visit</a></li>
          <li><a href="second-opinion.html"><i class="fas fa-user-check"></i> Second Opinion</a></li>
        </ul>
      </li>

      <li class="dropdown">
        <a href="#"><i class="fas fa-book-medical"></i> Resources ▾</a>
        <ul class="dropdown-menu">
          <li><a href="blog.html"><i class="fas fa-blog"></i> Blog</a></li>
          <li><a href="FAQs.html"><i class="fas fa-question-circle"></i> FAQs</a></li>
          <li><a href="Covid19.html"><i class="fas fa-virus"></i> COVID-19 Info</a></li>
        </ul>
      </li>

      <li class="dropdown">
        <a href="#"><i class="fas fa-user-circle"></i> Account ▾</a>
        <ul class="dropdown-menu">
          <li><a href="signup.html"><i class="fas fa-user-plus"></i> Sign Up</a></li>
          <li><a href="login.html"><i class="fas fa-user-lock"></i> Log In</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- ACCOUNT INFO -->
  <div class="container">
    <h2>My Account</h2>
    <div class="profile-info">
      <p><strong>Name:</strong> <span id="userName">Loading...</span></p>
      <p><strong>Email:</strong> <span id="userEmail">Loading...</span></p>
      <p><strong>Phone:</strong> <span id="userPhone">Loading...</span></p>
    </div>
    <button class="btn" onclick="window.location.href='edit-profile.html'">Edit Profile</button>
  </div>

  <script>
    const userId = localStorage.getItem("userId");

    async function loadUser() {
      try {
        const res = await fetch(`https://doctor-backend-1hbs.onrender.com/api/user/${userId}`);
        const user = await res.json();

        document.getElementById('userName').textContent = user.name || 'Not Available';
        document.getElementById('userEmail').textContent = user.email || 'Not Available';
        document.getElementById('userPhone').textContent = user.phone || 'Not Available';
      } catch (err) {
        console.error("Failed to load user:", err);
      }
    }

    loadUser();
  </script>
</body>

</html>